@namespace Logistics.Blazor

@{
    var showClass = IsBusy ? Overlay ? "d-flex" : "d-block" : "d-none";
    var overlayClass = Overlay ? $"spinner-overlay" : "";
    var size = $"{Size}rem";
    var flexTypeClass = LabelAlign == Align.Top || LabelAlign == Align.Bottom ?
                        "flex-column" : "flex-row";
    var labelMargin = LabelAlign == Align.Left || LabelAlign == Align.Right ?
                        "mx-2" : "my-2";
}

<div class="@overlayClass @showClass">
    <div class="d-flex align-items-center @flexTypeClass">
        @if (!string.IsNullOrEmpty(Label) && 
            (LabelAlign == Align.Left || LabelAlign == Align.Top))
        {
            <span class="@labelMargin @GetColor(LabelColor)" style="line-height: @size">@Label</span>
        }

        <span class="spinner-border text-success @CssClass"
             role="status"
             style="height: @size; width: @size;">
            <span class="visually-hidden">Loading...</span>
        </span>

        @if (!string.IsNullOrEmpty(Label) &&
            (LabelAlign == Align.Right || LabelAlign == Align.Bottom))
        {
            <span class="@labelMargin @GetColor(LabelColor)" style="line-height: @size">@Label</span>
        }
    </div>
</div>
