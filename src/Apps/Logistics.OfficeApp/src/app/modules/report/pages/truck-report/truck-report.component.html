<h1 class="text-center">Truck Report</h1>
<hr class="w-100">

<div class="row">
  <div class="col-12">
    <p-card>
      <div *ngIf="isBusy; else actualContent">
        <p-skeleton styleClass="my-2" height="3rem"></p-skeleton>
        <p-skeleton styleClass="my-2" height="3rem"></p-skeleton>
        <p-skeleton styleClass="my-2" height="3rem"></p-skeleton>
        <div>
          <p class="fw-bold">Last 30 days gross</p>
          <p-skeleton styleClass="my-2" height="20rem" width="100%"></p-skeleton>
        </div>
      </div>

      <ng-template #actualContent>
        <div class="mb-3">
          <span class="fw-bold">Driver: </span>
          <a [routerLink]="['employees/edit', truck.driverId]">{{truck.driverName}}</a>
        </div>
        <div class="mb-3">
          <span class="fw-bold">Number: </span>
          <a [routerLink]="['trucks/edit', truck.id]">{{truck.truckNumber}}</a>
        </div>
        <div class="mb-3">
          <span class="fw-bold">Total Gross For All Time: </span>
          <span>{{truckGrosses.totalGrossAllTime | currency}}</span>
        </div>
        <div class="mb-3">
          <span class="fw-bold">Total Distance For All Time: </span>
          <span>{{truckGrosses.totalDistanceAllTime | distanceUnit:'mi'}} mi</span>
        </div>

        <div class="mb-3">
          <span class="fw-bold">Total Gross For Last 30 days: </span>
          <span>{{truckGrosses.grosses?.totalGross | currency}}</span>
        </div>
        <div class="mb-3">
          <span class="fw-bold">Total Distance For Last 30 days: </span>
          <span>{{truckGrosses.grosses?.totalDistance | distanceUnit:'mi'}} mi</span>
        </div>

        <div class="mb-3">
          <p class="fw-bold">Last 30 days gross</p>
          <p-chart type="line" [data]="chartData" [options]="chartOptions" width="100%" height="20rem"></p-chart>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>